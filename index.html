<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æƒ…äººç¯€é©šå–œ</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            text-align: center;
            background: linear-gradient(to bottom, #ffe6e6, #ffcccc);
            color: #ff4d4d;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            height: 100vh;
            margin: 0;
        }
        h1 {
            font-size: 3em;
            margin-bottom: 20px;
        }
        .question, #lottery {
            font-size: 1.5em;
            font-weight: bold;
        }
        #lottery {
            display: none;
        }
        .button {
            padding: 10px 20px;
            font-size: 1.2em;
            background-color: #ff4d4d;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            margin-top: 20px;
        }
        .button:hover {
            background-color: #e63939;
        }
        .prize {
            font-size: 1.8em;
            margin-top: 20px;
        }
        .hidden {
            display: none;
        }
        .prize-image {
            opacity: 0;
            animation: fadeIn 2s forwards;
            margin-top: 20px;
            width: 300px;
            border: 2px solid #ffcccc;
            border-radius: 10px;
        }
        .prize-image.show {
            opacity: 1;
        }

        @keyframes fadeIn {
            0% {
                opacity: 0;
                transform: scale(0.5);
            }
            100% {
                opacity: 1;
                transform: scale(1);
            }
        }

        .error-image {
            width: 300px;
            margin-top: 20px;
            border: 2px solid #ffcccc;
            border-radius: 10px;
        }
        input {
            padding: 5px;
            font-size: 1em;
            margin-top: 10px;
        }
        #countdown {
            font-size: 1.5em;
            margin-bottom: 20px;
            font-weight: bold;
        }

        .waiting-message {
            font-size: 1.5em;
            color: #ff6347;
            margin-top: 20px;
            font-weight: bold;
        }
    </style>
</head>
<body>
    <h1 id="title">â¤ï¸ æƒ…äººç¯€é©šå–œ â¤ï¸</h1>
    <div id="countdown">Loading...</div>
    <div id="questionSection" class="question">
        <p>è«‹å›ç­”å•é¡Œï¼šä»Šå¹´æº–å‚™å’—å’©ç¦®ç‰©æ¯”ä½ ï¼Ÿï¼ˆè¼¸å…¥ä¸­æ–‡ç­”æ¡ˆï¼‰</p>
        <input type="text" id="answer" placeholder="è«‹è¼¸å…¥ç­”æ¡ˆ">
        <button class="button" onclick="checkAnswer()">æäº¤ç­”æ¡ˆ</button>
        <p id="feedback" class="hidden" style="color: green; margin-top: 10px;">ç­”å•±å’—ï¼å¯ä»¥æŠ½çå•¦ï¼</p>
        <p id="wrongFeedback" class="hidden" style="color: red; margin-top: 10px;">ç­”éŒ¯å•¦ï¼å†åŠ æ²¹å•¦BBï¼</p>
        <img id="errorImage1" src="image/10.png" alt="éŒ¯èª¤åœ–ç‰‡1" class="hidden error-image">
        <img id="errorImage2" src="image/20.png" alt="éŒ¯èª¤åœ–ç‰‡2" class="hidden error-image">
        <img id="errorImage3" src="image/30.png" alt="éŒ¯èª¤åœ–ç‰‡3" class="hidden error-image">
    </div>
    <div id="lottery">
        <button id="lotteryButton" class="button" onclick="startLottery()">æŠ½ç</button>
        <div id="prize" class="hidden">
            <p class="prize">ğŸ‰ æ­å–œä½ ä¸­çï¼ğŸ‰</p>
            <p>ğŸ’ å°å¼Ÿç²¾å¿ƒæŒ‘é¸ SWAROVSKI æ‰‹éˆ ğŸ’</p>
            <img id="prizeImage" src="image/image.png" alt="Swarovski æ‰‹éˆ" class="prize-image">
            <div style="margin-top: 20px;">
                <button id="nextPageButton" class="button" onclick="goToNextPage()">åˆ°ä¸‹ä¸€é </button>
            </div>
        </div>
        <p id="waitingMessage" class="hidden waiting-message">åˆåŸ‹çœ¼5ç§’å¾Œæ‰“é–‹...</p>
    </div>

    <script>
        let wrongAttempts = 0;

        const targetDate = new Date("2025-02-14T00:00:00").getTime();
        const countdownElement = document.getElementById("countdown");

        function updateCountdown() {
            const now = new Date().getTime();
            const timeLeft = targetDate - now;

            if (timeLeft <= 0) {
                countdownElement.innerHTML = "æƒ…äººç¯€å¿«æ¨‚ï¼ğŸ‰";
                return;
            }

            const days = Math.floor(timeLeft / (1000 * 60 * 60 * 24));
            const hours = Math.floor((timeLeft % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
            const minutes = Math.floor((timeLeft % (1000 * 60 * 60)) / (1000 * 60));
            const seconds = Math.floor((timeLeft % (1000 * 60)) / 1000);

            countdownElement.innerHTML = `è·é›¢æƒ…äººç¯€é‚„æœ‰ ${days} å¤© ${hours} å°æ™‚ ${minutes} åˆ†é˜ ${seconds} ç§’`;
        }

        setInterval(updateCountdown, 1000);
        updateCountdown();

        function checkAnswer() {
            const answer = document.getElementById("answer").value.trim();
            const feedback = document.getElementById("feedback");
            const wrongFeedback = document.getElementById("wrongFeedback");
            const errorImage1 = document.getElementById("errorImage1");
            const errorImage2 = document.getElementById("errorImage2");
            const errorImage3 = document.getElementById("errorImage3");
            const lotteryDiv = document.getElementById("lottery");

            if (answer === "æ‰‹éˆï¼Œ") {
                feedback.classList.remove("hidden");
                wrongFeedback.classList.add("hidden");
                lotteryDiv.style.display = "block"; 
                document.getElementById("answer").disabled = true; 
                wrongAttempts = 0; 
                errorImage1.classList.add("hidden");
                errorImage2.classList.add("hidden");
                errorImage3.classList.add("hidden");
            } else {
                wrongAttempts++;
                feedback.classList.add("hidden");
                wrongFeedback.classList.remove("hidden");

                if (wrongAttempts >= 10 && wrongAttempts < 20) {
                    errorImage1.classList.remove("hidden");
                    errorImage2.classList.add("hidden");
                    errorImage3.classList.add("hidden");
                } else if (wrongAttempts >= 20 && wrongAttempts < 30) {
                    errorImage1.classList.add("hidden");
                    errorImage2.classList.remove("hidden");
                    errorImage3.classList.add("hidden");
                } else if (wrongAttempts >= 30) {
                    errorImage1.classList.add("hidden");
                    errorImage2.classList.add("hidden");
                    errorImage3.classList.remove("hidden");
                }
            }
        }

        function startLottery() {
            let countdownTime = 5;
            const waitingMessage = document.getElementById("waitingMessage");

            function updateMessage() {
                waitingMessage.innerHTML = `åˆåŸ‹çœ¼${countdownTime}ç§’å¾Œæ‰“é–‹...`;
            }

            document.getElementById("waitingMessage").classList.remove("hidden");

            document.getElementById("questionSection").classList.add("hidden");
            document.getElementById("countdown").classList.add("hidden");
            document.getElementById("lottery").classList.add("hidden");
            document.getElementById("lotteryButton").style.display = "none";

            const countdownInterval = setInterval(function() {
                if (countdownTime > 0) {
                    updateMessage();
                    countdownTime--;
                } else {
                    clearInterval(countdownInterval);
                    const prizeDiv = document.getElementById("prize");
                    const prizeImage = document.getElementById("prizeImage");
                    prizeDiv.classList.remove("hidden");
                    setTimeout(() => prizeImage.classList.add("show"), 500);
                    document.getElementById("waitingMessage").classList.add("hidden");
                }
            }, 1000);
        }

        function goToNextPage() {
            window.location.href = "html/love_message.html";
        }
    </script>
</body>
</html>
